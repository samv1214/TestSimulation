<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homeless & Food Crisis Simulation</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background-color: #f4f4f4; }
        #scene { margin: 20px; padding: 20px; border: 1px solid #333; background: white; }
        button { margin: 10px; padding: 10px; font-size: 16px; }
    </style>
</head>
<body>
    <h1>Homeless & Food Crisis Simulation</h1>
    <div id="scene">
        <p id="story">You are homeless and hungry. You have no money and no place to sleep. The cold wind bites at your skin. Your stomach growls in pain. What do you do first?</p>
        <button onclick="startGame()">Start Over</button>
    </div>

    <script>
        let health, hunger;

        function startGame() {
            health = 100;
            hunger = 100;
            document.getElementById("scene").innerHTML = `
                <p id="story">You are homeless and hungry. You have no money and no place to sleep. The cold wind bites at your skin. Your stomach growls in pain. What do you do first?</p>
                <button onclick="nextScene('shelter')">Look for a homeless shelter</button>
                <button onclick="nextScene('beg')">Beg for money</button>
                <button onclick="nextScene('dumpster')">Search dumpsters for food</button>
                <button onclick="nextScene('job')">Look for a temporary job</button>
            `;
        }

        function nextScene(choice) {
            let story = document.getElementById("story");
            let scene = document.getElementById("scene");
            scene.innerHTML = ""; 
            scene.appendChild(story);
            
            if (choice === 'shelter') {
                story.innerHTML = "You find a homeless shelter, but they only have limited space. You must wait in line. You see a mother with a child also waiting. Do you stay or try another option?";
                addButton("Stay in line", "stay_line");
                addButton("Give up your spot for the mother and leave", "look_elsewhere");
            } 
            else if (choice === 'beg') {
                story.innerHTML = "You start begging on a busy street. People walk past without even looking at you. A woman stops and hands you $5 with a warm smile. What do you do with the money?";
                addButton("Buy food", "buy_food");
                addButton("Save for shelter", "save_shelter");
            }
            else if (choice === 'dumpster') {
                story.innerHTML = "You find some leftover food in a dumpster. It's cold, stale, and possibly spoiled. You hesitate. Do you eat it?";
                addButton("Eat the food", "eat_food");
                addButton("Keep searching", "keep_searching");
            }
            else if (choice === 'job') {
                story.innerHTML = "You search for a temporary job. A restaurant offers dishwashing for $20. The manager looks skeptical but offers you a chance. Do you accept?";
                addButton("Accept the job", "accept_job");
                addButton("Keep looking", "keep_looking_job");
            }
            else if (choice === 'eat_food') {
                health -= 30;
                story.innerHTML = "You eat the food, but it was spoiled. A sharp pain shoots through your stomach. You feel weak. Your health is now " + health + "%. You need medical help.";
                addButton("Go to a free clinic", "free_clinic");
                addButton("Try to sleep it off", "sleep_it_off");
                addButton("Go Home", "startGame");
                checkGameOver();
            }
            else if (choice === 'keep_searching') {
                hunger -= 20;
                story.innerHTML = "You search further and find a charity giving out free meals. A kind volunteer hands you a warm plate of food. Tears well up in your eyes from gratitude.";
                addButton("Thank them and leave", "thank_leave");
                addButton("Ask for more help", "ask_help");
                addButton("Go Home", "startGame");
                checkGameOver();
            }
            else if (choice === 'accept_job') {
                hunger -= 15;
                story.innerHTML = "You work hard, scrubbing dishes for hours. The manager sees your effort and hands you $20. Your hands ache, but you feel hopeful for the first time in a while.";
                addButton("Buy food", "buy_food");
                addButton("Save for better housing", "save_for_housing");
                addButton("Go Home", "startGame");
                checkGameOver();
            }
            else if (choice === 'keep_looking_job') {
                hunger -= 25;
                story.innerHTML = "You keep searching, but find nothing else. Your stomach cramps from hunger. Your hunger is now " + hunger + "%. You feel dizzy and exhausted.";
                addButton("Rest on a bench", "rest_bench");
                addButton("Keep pushing on", "keep_pushing");
                addButton("Go Home", "startGame");
                checkGameOver();
            }
        }
        
        function addButton(text, action) {
            let btn = document.createElement("button");
            btn.innerHTML = text;
            btn.onclick = function() { nextScene(action); };
            document.getElementById("scene").appendChild(btn);
        }
        
        function checkGameOver() {
            if (health <= 0) {
                document.getElementById("story").innerHTML = "Your health has reached zero. You collapse on the street. Unfortunately, no one helps in time. Darkness takes over. You did not survive.";
                document.getElementById("scene").innerHTML = "<button onclick='startGame()'>Go Home</button>";
            } else if (hunger <= 0) {
                document.getElementById("story").innerHTML = "Your hunger has reached a critical level. Your body gives in to exhaustion. You pass out. You feel cold... and then nothing. You did not survive.";
                document.getElementById("scene").innerHTML = "<button onclick='startGame()'>Go Home</button>";
            }
        }

        startGame();
    </script>
</body>
</html>
