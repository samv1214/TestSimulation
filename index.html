<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homeless Survival Simulation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #282828;
            color: white;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        .container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            width: 80%;
        }

        .button {
            background-color: #0044cc;
            border: none;
            padding: 15px 32px;
            font-size: 16px;
            color: white;
            cursor: pointer;
            margin: 10px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .button:hover {
            background-color: #0077cc;
        }

        .fade {
            animation: fadeIn 1s ease-in-out;
        }

        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://example.com/your-background-image.jpg');
            background-size: cover;
            background-position: center;
            z-index: -1;
            opacity: 0.6;
        }

    </style>
</head>
<body>
    <div class="background"></div>

    <div id="container" class="container">
        <div id="storyText" class="fade">
            <h1>Welcome to the Homelessness Simulation Experience</h1>
            <h4 id="narrative">In this simulation, you'll make choices that reflect what it might be like to experience homelessness. Every decision impacts your journey. Follow along, answer honestly, and see where your path takes you.</h4>
            <button class="button" onclick="nextScene(1)">Start the game</button>
            
        </div>
    </div>

    <script>
        let currentScene = 0;
        let outcome = '';
		const factElement = document.createElement('div');
		
        function nextScene(scene) {
            currentScene = scene;
            updateScene();
        }

        function updateScene() {
            const narrative = document.getElementById('narrative');
            const buttons = document.querySelectorAll('.button');
            const storyText = document.getElementById('storyText');

            // Remove all previous buttons
            buttons.forEach(button => button.remove());

            switch (currentScene) {
				case 0:
					narrative.innerHTML = ""
					createButtons([
                        { text: "Start the game", next: 1}
                    ]);
				break;
                case 1:
                    narrative.innerHTML = "<h4>You’ve just lost your job and your housing situation. You have $20, no car, and nowhere to sleep tonight. What will you do first?<h/4>";
                    createButtons([
                        { text: "Try to find a homeless shelter nearby", next: 2 },
                        { text: "Call a friend to ask if you can stay the night", next: 3 },
                        { text: "Sleep outside in a safe-looking spot", next: 4 }
                    ]);
                    break;
                case 2:
                    narrative.innerHTML = "<h2>Shelter Option</h2><h4>You find a shelter, but it's full for the night. You’re given a small meal and told to come back tomorrow. What will you do next?</h4>";
                    createButtons([
                        { text: "Sleep outside near the shelter", next: 5 },
                        { text: "Walk around all night to stay awake and safe", next: 6 }
                    ]);
                    break;
                case 3:
                    narrative.innerHTML = "<h2>Friend Option</h2><h4>Your friend lets you stay for one night but can't host you again. In the morning, you're back on the street with $20 left. What will you do next?</h4>";
                    createButtons([
                        { text: "Use $10 to buy food", next: 7 },
                        { text: "Save your money and look for a shelter", next: 2 }
                    ]);
                    break;
                case 4:
                    narrative.innerHTML = "<h2>Sleeping Outside Option</h2><h4>You sleep outside, but you're cold, hungry, and scared. No one bothers you, but you're exhausted. What will you do next?</h4>";
                    createButtons([
                        { text: "Go to a shelter in the morning", next: 2 },
                        { text: "Try to find odd jobs or ask for help", next: 8 }
                    ]);
                    break;
                case 5:
                    narrative.innerHTML = "<h2>Next Day Struggles:</h2>";
                    createButtons([
                        { text: "You sleep near the shelter and get in the next night — but there’s no hot food left, and you're still hungry", next: 9 }
                    ]);
                    break;
                case 6:
                    narrative.innerHTML = "<h2>Next Day Struggles:</h2>";
                    createButtons([
                        { text: "Walking all night leaves you exhausted. By morning, you're weak and have spent $5 on water", next: 10 }
                    ]);
                    break;
                case 7:
                    narrative.innerHTML = "<h2>Next Day Struggles:</h2>";
                    createButtons([
                        { text: "You buy food but now only have $10 left. You feel better but still have nowhere to sleep", next: 11 }
                    ]);
                    break;
                case 8:
                    narrative.innerHTML = "<h2>Next Day Struggles:</h2>";
                    createButtons([
                        { text: "Asking for help earns you $5 from strangers, but the embarrassment weighs on you", next: 12 }
                    ]);
                    break;
				case 9:
                    narrative.innerHTML = "<h2>Emotional Toll</h2><h4>You're in the shelter, but loneliness and uncertainty are setting in</h4>";
                    createButtons([
                        { text: "Try to talk to other people in the shelter for advice", next: 13 },
						{ text: "Keep to yourself and wait for something better", next: 14 }
                    ]);
					break;
				case 10:
                    narrative.innerHTML = "<h2>Emotional Toll</h2><h4>Exhausted and hungry, you're close to giving up</h4>";
                    createButtons([
                        { text: "Spend your last money on food", next: 15 },
						{ text: "Ask strangers for help again", next: 16 }
                    ]);
					break;
				case 11:
                    narrative.innerHTML = "<h2>Emotional Toll</h2><h4>You're physically better but feel isolated and scared</h4>";
                    createButtons([
                        { text: "Search for a day job", next: 17 },
						{ text: "Look for a shelter again", next: 2 }
                    ]);
					break;
				case 12:
                    narrative.innerHTML = "<h2>Emotional Toll</h2><h4>The $5 helps, but the embarrassment lingers</h4>";
                    createButtons([
                        { text: "Keep asking for help", next: 18 },
						{ text: "Look for a shelter again", next: 15 }
                    ]);
					break;
				case 13:
                    narrative.innerHTML = "<h2>Final Choices</h2>";
                    createButtons([
                        { text: "You connect with others at the shelter and learn about job programs. After several weeks, you find temporary housing.",outcome: 'survived' }
                    ]);
					break;
				case 14:
                    narrative.innerHTML = "<h2>Final Choices</h2>";
                    createButtons([
                        { text: "Isolated and without help, you lose hope.",outcome: 'died' }
                    ]);
					break;
				case 15:
                    narrative.innerHTML = "<h2>Final Choices</h2>";
                    createButtons([
                        { text: "You survive another day, but you're running out of money and options.",outcome: 'died' }
                    ]);
					break;
				case 16:
                    narrative.innerHTML = "<h2>Final Choices</h2>";
                    createButtons([
                        { text: "Asking for help gets you enough money for food, but the cycle continues with no progress.",outcome: 'died' }
                    ]);
					break;
				case 17:
                    narrative.innerHTML = "<h2>Final Choices</h2>";
                    createButtons([
                        { text: "You find a day job and start saving small amounts of money. Eventually, you find a stable place to stay.",outcome: 'survived' }
                    ]);
					break;
				case 18:
                    narrative.innerHTML = "<h2>Final Choices</h2>";
                    createButtons([
                        { text: "Asking for help consistently gets you into a program that helps with housing and mental health.",outcome: 'survived' }
                    ]);
					break;
                // Continue similar patterns for the other scenes...
                default:
                    narrative.innerHTML = "<h3>Simulation Over. Thank you for participating!</h3>";
					createButtons([
                        { text: "Restart Game", next: 0, outcome: 'empty' }
                    ]);
					break;
            }

            // Apply fade-in effect for scene transition
            storyText.classList.add('fade');
            setTimeout(() => {
                storyText.classList.remove('fade');
            }, 1000);
        }

        function createButtons(options) {
            const container = document.querySelector('.container');

            options.forEach(option => {
                const button = document.createElement('button');
                button.classList.add('button');
                button.innerHTML = option.text;
                button.onclick = function() {
                    nextScene(option.next);
                    if (option.outcome) {
                        showOutcome(option.outcome);
                    }
                };
                container.appendChild(button);
            });
        }
		
        function showOutcome(outcome) {
            //const factElement = document.createElement('p');
            factElement.style.color = 'white';
			factElement.style.textAlign = 'center';
			factElement.style.marginTop = '20px';
            if (outcome === 'survived') {
                factElement.innerHTML = "<h2>You survived! Fact: 1 in 5 people who experience homelessness will survive with help from shelters, charities, and individuals.</h2>";
            } else if (outcome === 'died') {
                factElement.innerHTML = "<h2>You didn't make it. Fact: Homelessness is a serious issue, with an estimated 580,000 people experiencing homelessness in the U.S. each year.</h2>";
            } else if (outcome === 'empty') {
                factElement.innerHTML = ""
            }
            document.body.appendChild(factElement);
        }

    </script>
</body>
</html>
