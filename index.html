<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homeless & Food Crisis Simulation</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background-color: #f4f4f4; }
        #scene { margin: 20px auto; padding: 20px; border: 1px solid #333; background: white; width: 80%; max-width: 600px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); }
        button { margin: 10px; padding: 10px; font-size: 16px; border: none; border-radius: 5px; background-color: #007BFF; color: white; cursor: pointer; transition: 0.3s; }
        button:hover { background-color: #0056b3; }
        .status { font-weight: bold; margin-top: 10px; }
    </style>
</head>
<body>
    <h1>Homeless & Food Crisis Simulation</h1>
    <div id="scene">
        <p id="story"></p>
        <div id="buttons"></div>
        <p class="status">Health: <span id="health">100</span>% | Hunger: <span id="hunger">100</span>%</p>
    </div>
    <button onclick="startGame()">Restart Game</button>

    <script>
        let health, hunger;

        function startGame() {
            health = 100;
            hunger = 100;
            updateStatus();
            showScene("You are homeless and hungry. The cold wind bites at your skin. Your stomach growls. What do you do first?", [
                { text: "Look for a homeless shelter", action: () => nextScene('shelter') },
                { text: "Beg for money", action: () => nextScene('beg') },
                { text: "Search dumpsters for food", action: () => nextScene('dumpster') },
                { text: "Look for a temporary job", action: () => nextScene('job') }
            ]);
        }

        function nextScene(choice) {
            if (choice === 'shelter') {
                showScene("You find a homeless shelter, but space is limited. A mother with a child is also waiting. Do you stay or give up your spot?", [
                    { text: "Stay in line", action: () => nextScene('stay_line') },
                    { text: "Give up your spot", action: () => nextScene('look_elsewhere') }
                ]);
            } else if (choice === 'beg') {
                showScene("You start begging. People ignore you, but a kind woman gives you $5. What do you do?", [
                    { text: "Buy food", action: () => nextScene('buy_food') },
                    { text: "Save for shelter", action: () => nextScene('save_shelter') }
                ]);
            } else if (choice === 'dumpster') {
                hunger -= 20;
                updateStatus();
                showScene("You find old food in a dumpster. It may be spoiled. Do you eat it?", [
                    { text: "Eat the food", action: () => nextScene('eat_food') },
                    { text: "Keep searching", action: () => nextScene('keep_searching') }
                ]);
            } else if (choice === 'job') {
                showScene("A restaurant offers dishwashing for $20. Do you accept?", [
                    { text: "Accept the job", action: () => nextScene('accept_job') },
                    { text: "Keep looking", action: () => nextScene('keep_looking_job') }
                ]);
            } else if (choice === 'eat_food') {
                health -= 30;
                updateStatus();
                showScene("The food was spoiled. You feel sick. What do you do?", [
                    { text: "Go to a free clinic", action: () => nextScene('free_clinic') },
                    { text: "Try to sleep it off", action: () => nextScene('sleep_it_off') },
                    { text: "Go Home", action: () => startGame() }
                ]);
                checkGameOver();
            } else if (choice === 'keep_searching') {
                hunger += 10;
                updateStatus();
                showScene("You find a charity handing out food. The volunteer smiles as they give you a warm meal. What do you do next?", [
                    { text: "Thank them and leave", action: () => nextScene('thank_leave') },
                    { text: "Ask for more help", action: () => nextScene('ask_help') },
                    { text: "Go Home", action: () => startGame() }
                ]);
            } else if (choice === 'accept_job') {
                hunger -= 15;
                updateStatus();
                showScene("You work hard and earn $20. Your hands ache, but you feel hopeful.", [
                    { text: "Buy food", action: () => nextScene('buy_food') },
                    { text: "Save for better housing", action: () => nextScene('save_for_housing') },
                    { text: "Go Home", action: () => startGame() }
                ]);
                checkGameOver();
            }
        }

        function showScene(text, options) {
            document.getElementById("story").innerHTML = text;
            let buttonsDiv = document.getElementById("buttons");
            buttonsDiv.innerHTML = "";
            options.forEach(option => {
                let btn = document.createElement("button");
                btn.innerHTML = option.text;
                btn.onclick = option.action;
                buttonsDiv.appendChild(btn);
            });
        }

        function updateStatus() {
            document.getElementById("health").innerText = health;
            document.getElementById("hunger").innerText = hunger;
        }

        function checkGameOver() {
            if (health <= 0) {
                showScene("You collapse from illness. Darkness takes over. You did not survive.", [{ text: "Restart Game", action: () => startGame() }]);
            } else if (hunger <= 0) {
                showScene("You collapse from hunger. Your body gives in. You did not survive.", [{ text: "Restart Game", action: () => startGame() }]);
            }
        }

        startGame();
    </script>
</body>
</html>
